{"files":{"alister-config.json":{"content":"ewogICAgIm1lbW9yeSI6ICI1MDBNQiIsCiAgICAiZW5jb2RpbmciOiAiVVRGLTgiLAogICAgInBvcnQiOiAiODAwMCIsCiAgICAic2VjdXJlUG9ydCI6ICI4MDAzIgp9","base":"alister-config.json","name":"alister-config","ext":".json","readable":true},"carson-config.json":{"content":"ewogICAgIm1lbW9yeSI6ICIxR0IiLAogICAgImVuY29kaW5nIjogIlVURi04IiwKICAgICJwb3J0IjogIjgwMTAiLAogICAgInNlY3VyZVBvcnQiOiAiODAxMyIKfQ==","base":"carson-config.json","name":"carson-config","ext":".json","readable":true},"fergus-config.json":{"content":"ewogICAgIm1lbW9yeSI6ICIxR0IiLAogICAgImVuY29kaW5nIjogIlVURi04IiwKICAgICJwb3J0IjogIjgwMjAiLAogICAgInNlY3VyZVBvcnQiOiAiODAyMyIKfQ==","base":"fergus-config.json","name":"fergus-config","ext":".json","readable":true},"fraser-config.json":{"content":"ewogICAgIm1lbW9yeSI6ICIxR0IiLAogICAgImVuY29kaW5nIjogIlVURi04IiwKICAgICJwb3J0IjogIjgwMzAiLAogICAgInNlY3VyZVBvcnQiOiAiODAzMyIKfQ==","base":"fraser-config.json","name":"fraser-config","ext":".json","readable":true},"tomcat.ts":{"content":"aW1wb3J0IHsgY29uc29sZSB9IGZyb20gJy4uL2NvbnNvbGUnOwoKbmFtZXNwYWNlIGJsdWViZXJyeS50b21jYXQgewogICAgaW50ZXJmYWNlIEFwcGxpY2F0aW9uIHsKICAgICAgICBuYW1lOiBzdHJpbmc7CiAgICAgICAgdXNlZDogc3RyaW5nOwogICAgfQoKICAgIGZ1bmN0aW9uIHJhbmRvbShtaW4sIG1heCkgewogICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7CiAgICB9CgogICAgY29uc3QgYXBwbGljYXRpb25zID0gWwogICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ2ZyYXNlcicsCiAgICAgICAgICAgIHVzZWQ6IHJhbmRvbSgxMDAsIDgwMCkgKyAnTUInCiAgICAgICAgfSwgewogICAgICAgICAgICBuYW1lOiAnZmVyZ3VzJywKICAgICAgICAgICAgdXNlZDogcmFuZG9tKDEwMCwgODAwKSArICdNQicKICAgICAgICB9LCB7CiAgICAgICAgICAgIG5hbWU6ICdhbGlzdGVyJywKICAgICAgICAgICAgdXNlZDogcmFuZG9tKDQ0MCwgNDcwKSArICdNQicKICAgICAgICB9LCB7CiAgICAgICAgICAgIG5hbWU6ICdjYXJzb24nLAogICAgICAgICAgICB1c2VkOiByYW5kb20oMTAwLCA4MDApICsgJ01CJwogICAgICAgIH0KICAgIF07CgogICAgZnVuY3Rpb24gY29sb3JpemUoYXBwbGljYXRpb246IEFwcGxpY2F0aW9uLCBhcHBsaWNhdGlvbk1lbW9yeTogc3RyaW5nKTogc3RyaW5nIHsKICAgICAgICBsZXQgbWVtb3J5VW5pdCA9IGFwcGxpY2F0aW9uTWVtb3J5LnN1YnN0cmluZyhhcHBsaWNhdGlvbk1lbW9yeS5sZW5ndGggLSAyKTsKICAgICAgICBsZXQgbWVtb3J5VmFsdWUgPSBwYXJzZUludChhcHBsaWNhdGlvbk1lbW9yeS5zdWJzdHJpbmcoMCwgYXBwbGljYXRpb25NZW1vcnkubGVuZ3RoIC0gMikpOwoKICAgICAgICBsZXQgdXNlZFVuaXQgPSBhcHBsaWNhdGlvbi51c2VkLnN1YnN0cmluZyhhcHBsaWNhdGlvbi51c2VkLmxlbmd0aCAtIDIpOwogICAgICAgIGxldCB1c2VkVmFsdWUgPSBwYXJzZUludChhcHBsaWNhdGlvbi51c2VkLnN1YnN0cmluZygwLCBhcHBsaWNhdGlvbi51c2VkLmxlbmd0aCAtIDIpKTsKCgogICAgICAgIGxldCBtZW1vcnkgPSBtZW1vcnlVbml0ID09PSAnR0InID8gbWVtb3J5VmFsdWUgKiAxMDI0IDogbWVtb3J5VmFsdWU7CiAgICAgICAgbGV0IHVzZWQgPSB1c2VkVW5pdCA9PT0gJ0dCJyA/IHVzZWRWYWx1ZSAqIDEwMjQgOiB1c2VkVmFsdWU7CgogICAgICAgIGlmIChtZW1vcnkgLSB1c2VkID4gMTAwKSB7CiAgICAgICAgICAgIHJldHVybiBgW2dyZWVuXSR7YXBwbGljYXRpb24udXNlZH1bL2dyZWVuXWA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gYFtyZWRdJHthcHBsaWNhdGlvbi51c2VkfVsvcmVkXWA7CiAgICAgICAgfQogICAgfQoKICAgIGV4cG9ydCBmdW5jdGlvbiBydW4oY29tbWFuZFBhcmFtczogY29uc29sZS5Db21tYW5kUGFyYW1zKTogdm9pZCB7CiAgICAgICAgbGV0IGNvbnNvbGUgPSBjb21tYW5kUGFyYW1zLmNvbnNvbGU7CgogICAgICAgIGlmIChjb21tYW5kUGFyYW1zLmFyZ3VtZW50c1swXSA9PT0gJ3N0YXR1cycpIHsKICAgICAgICAgICAgYXBwbGljYXRpb25zLmZvckVhY2goYXBwbGljYXRpb24gPT4gewogICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBjb25zb2xlLmdldEZpbGUoYCR7YXBwbGljYXRpb24ubmFtZX0tY29uZmlnLmpzb25gKS5jb250ZW50OwoKICAgICAgICAgICAgICAgIGxldCBjb25maWcgPSBKU09OLnBhcnNlKGNvbnRlbnQpOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUucHJpbnRMaW5lKGAke2FwcGxpY2F0aW9uLm5hbWV9IC0gJHtjb2xvcml6ZShhcHBsaWNhdGlvbiwgY29uZmlnLm1lbW9yeSl9IC8gJHtjb25maWcubWVtb3J5fWApOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY29tbWFuZFBhcmFtcy5hcmd1bWVudHNbMF0gPT09ICdyZXN0YXJ0JykgewogICAgICAgICAgICBsZXQgYXBwbGljYXRpb246IHN0cmluZyA9IGNvbW1hbmRQYXJhbXMuYXJndW1lbnRzWzFdOwoKICAgICAgICAgICAgY29uc29sZS5ydW5UaW1lZChbCiAgICAgICAgICAgICAgICBgUGFyc2UgY29uZmlnIGZvciBhcHBsaWNhdGlvbiAke2FwcGxpY2F0aW9ufWAsCgogICAgICAgICAgICAgICAgKGV2ZW50OiBjb25zb2xlLkNvbnNvbGVUaW1lZEV2ZW50KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmZpZ0ZpbGUgPSBjb25zb2xlLmdldEZpbGUoYCR7YXBwbGljYXRpb259LWNvbmZpZy5qc29uYCk7CgogICAgICAgICAgICAgICAgICAgIGlmICghY29uZmlnRmlsZSkgewogICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWwoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgW3JlZF1BcHBsaWNhdGlvbiAke2FwcGxpY2F0aW9ufSBkb2VzIG5vdCBleGlzdFsvcmVkXWA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zZXRQcm9wZXJ0eSgnY29uZmlnJywgSlNPTi5wYXJzZShjb25maWdGaWxlLmNvbnRlbnQpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIGBTaHV0dGluZyBkb3duIGFwcGxpY2F0aW9uICR7YXBwbGljYXRpb259YCwKCiAgICAgICAgICAgICAgICBgV2FpdGluZyBmb3IgYXBwbGljYXRpb24gdG8gZnJlZSBwb3J0c2AsCgogICAgICAgICAgICAgICAgYEFwcGx5aW5nIG5ldyBjb25maWd1cmF0aW9uYCwKCiAgICAgICAgICAgICAgICBgU3RhcnRpbmcgYXBwbGljYXRpb24gJHthcHBsaWNhdGlvbn1gLAoKICAgICAgICAgICAgICAgIChldmVudDogY29uc29sZS5Db25zb2xlVGltZWRFdmVudCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBjb25maWc6IGFueSA9IGV2ZW50LmdldFByb3BlcnR5KCdjb25maWcnKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGxpY2F0aW9uICE9PSAnYWxpc3RlcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgW3JlZF1EJ09IISBZb3UgcmVzdGFydGVkIHRoZSB3cm9uZyBhcHBsaWNhdGlvbi4KICAgICAgICAgICAgICAgICAgICAgICAgPGI+RG9uJ3QgcmVzdGFydCBoZWFsdGh5IGFwcGxpY2F0aW9ucyBpbiBhIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQhITwvYj5bL3JlZF1gOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5tZW1vcnkgIT09ICcxR0InKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBbcmVkXU1heWJlIHlvdSBzaG91bGQgY2hlY2sgdGhlIG1lbW9yeSBmb3IgdGhlIGFwcGxpY2F0aW9uIGFnYWluLiBJdCBzZWVtcyB0aGF0IGl0IGlzIG5vdCBzZXQgdG8gdGhlIGFza2VkIHZhbHVlIVsvcmVkXWA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdLCAxMDAwKS50aGVuKChldmVudDogY29uc29sZS5Db25zb2xlVGltZWRFdmVudCkgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5wcmludExpbmUoJ1tncmVlbl1XZWxsIGRvbmUuIFlvdSByZWNvbmZpZ3VyZWQgdGhlIGFwcGxpY2F0aW9uLiBFdmVyeXRoaW5nIGlzIHJ1bm5pbmcgZmluZSBub3cuWy9ncmVlbl0nKTsKCiAgICAgICAgICAgICAgICBjb25zb2xlLnByaW50TGluZSgnVHlwZSAqKmRpc2Nvbm5lY3QqKiB0byBsZWF2ZSB0aGUgc2VydmVyLicpOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUuZmlyZSgnbGV2ZWwuY29tcGxldGUnLCAnYmx1ZWJlcnJ5Jyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5wcmludExpbmUoYFVua25vd24gYXJndW1lbnQgJHtjb21tYW5kUGFyYW1zLmFyZ3VtZW50c1swXX1gKTsKICAgICAgICB9CiAgICB9Cn0=","base":"tomcat.ts","name":"tomcat","ext":".ts","executable":true}},"executables":[{"command":"rc_tomcat","helpText":"show the state of all applications","file":"tomcat.ts","runNamespace":"blueberry.tomcat","arguments":[{"name":"status","required":false,"helpText":"Print the status for all applications"},{"name":"restart [application]","required":false,"helpText":"Restart the given application"}]}],"welcome":"IyBDb25uZWN0ZWQgdG8gYmx1ZWJlcnJ5CgpUaGUgbW9uaXRvcmluZyBmb3Igb25lIG9mIG91ciBhcHBsaWNhdGlvbnMgd2FybmVkIHVzIHRoYXQgdGhlIG1lbW9yeSBpcyBnZXR0aW5nIGxvdy4gUGxlYXNlIGZpbmQgdGhlIGFwcGxpY2F0aW9uIHRoYXQgaXMgbG93IG9uIG1lbW9yeSBhbmQgaW5jcmVhc2UgdGhlIG1lbW9yeSB0byAxR0IuCgpBZnRlciB5b3UgZm91bmQgdGhlIGFwcGxpY2F0aW9uIGVkaXQgdGhlIGNvbmZpZyBmaWxlIGZvciB0aGUgYXBwbGljYXRpb24gYW5kIHJlc3RhcnQgaXQuCgpfUmVtZW1iZXIgdG8gdXNlICoqaGVscCoqIGF0IGFueSB0aW1lIHRvIHNob3cgdGhlIGF2YWlsYWJsZSBjb21tYW5kc18K"}